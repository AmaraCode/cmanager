@model ConversationsViewModel
@{
    ViewData["Title"] = "List";
}



@if (@Model.Company != null)
{
    <h3>
        Conversations for Company: <a tabindex="0" data-toggle="popover" title="Address" data-content="@Model.Company.Address, @Model.Company.City, @Model.Company.State, @Model.Company.Zip">@Model.Company.CompanyName</a>
    </h3>
}
else
{
    <h1>Conversations</h1>
}


<a class="btn btn-warning btn-sm" asp-action="create">Create New Conversation</a>

<table class="table table-striped table-hover table-sm">
    <thead class="thead-dark">
        <tr>
            <th scope="col">Person</th>
            <th scope="col">Phone</th>
            <th scope="col">Email</th>
            <th scope="col">Discussion</th>
            <th></th>
        </tr>
    </thead>

    @foreach (Conversation conv in @Model.Conversations)
    {
        <tr>
            <td nowrap>@conv.Name</td>
            <td nowrap>@conv.Phone</td>
            <td nowrap>@conv.Email</td>
            <td>@conv.Discussion</td>
            <td>
                <form asp-controller="conversation" asp-action="edit" method="get">
                    <input type="hidden" value="@conv.ID" name="ID" />
                    <input type="hidden" value="@ViewContext.HttpContext.Request.PathAndQuery()" name="ReturnURL" />
                    <button type="submit"><i class="fas fa-tools"></i></button>
                </form>
            </td>
        </tr>
    }
</table>